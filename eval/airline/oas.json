{
    "openapi": "3.0.3",
    "info": {
        "title": "Flight Booking API",
        "version": "1.0.0"
    },
    "paths": {
        "/list-airports": {
            "get": {
                "summary": "List all airports and their corresponding cities",
                "description": "Retrieve a list of airports and the cities they are located in.",
                "x-readOnlyOperation": true,
                "operationId": "list_all_airports",
                "responses": {
                    "200": {
                        "description": "A JSON object containing airports and their cities",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "additionalProperties": {
                                        "type": "string",
                                        "description": "City name corresponding to the airport"
                                    }
                                },
                                "examples": {
                                    "sample": {
                                        "value": {
                                            "SFO": "San Francisco",
                                            "JFK": "New York",
                                            "LAX": "Los Angeles",
                                            "ORD": "Chicago",
                                            "DFW": "Dallas",
                                            "DEN": "Denver",
                                            "SEA": "Seattle",
                                            "ATL": "Atlanta",
                                            "MIA": "Miami",
                                            "BOS": "Boston",
                                            "PHX": "Phoenix",
                                            "IAH": "Houston",
                                            "LAS": "Las Vegas",
                                            "MCO": "Orlando",
                                            "EWR": "Newark",
                                            "CLT": "Charlotte",
                                            "MSP": "Minneapolis",
                                            "DTW": "Detroit",
                                            "PHL": "Philadelphia",
                                            "LGA": "LaGuardia"
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "x-input-examples": [
                    {}
                ],
                "x-output-examples": [
                    {
                        "SFO": "San Francisco",
                        "JFK": "New York",
                        "LAX": "Los Angeles",
                        "ORD": "Chicago"
                    }
                ]
            }
        },
        "/book-reservation": {
            "post": {
                "operationId": "book_reservation",
                "summary": "Book a reservation.",
                "description": "This endpoint allows you to book a flight reservation for a user with various flight details and passengers.",
                "x-readOnlyOperation": false,
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "user_id": {
                                        "type": "string",
                                        "description": "The ID of the user to book the reservation, such as 'sara_doe_496'."
                                    },
                                    "origin": {
                                        "type": "string",
                                        "description": "The IATA code for the origin city, such as 'SFO'."
                                    },
                                    "destination": {
                                        "type": "string",
                                        "description": "The IATA code for the destination city, such as 'JFK'."
                                    },
                                    "flight_type": {
                                        "type": "string",
                                        "enum": [
                                            "one_way",
                                            "round_trip"
                                        ]
                                    },
                                    "cabin": {
                                        "type": "string",
                                        "enum": [
                                            "basic_economy",
                                            "economy",
                                            "business"
                                        ]
                                    },
                                    "flights": {
                                        "type": "array",
                                        "description": "An array of objects containing details about each flight.",
                                        "items": {
                                            "type": "object",
                                            "properties": {
                                                "flight_number": {
                                                    "type": "string",
                                                    "description": "Flight number, such as 'HAT001'."
                                                },
                                                "date": {
                                                    "type": "string",
                                                    "description": "The date for the flight in the format 'YYYY-MM-DD', such as '2024-05-01'."
                                                }
                                            },
                                            "required": [
                                                "flight_number",
                                                "date"
                                            ]
                                        }
                                    },
                                    "passengers": {
                                        "type": "array",
                                        "description": "An array of objects containing details about each passenger.",
                                        "items": {
                                            "type": "object",
                                            "properties": {
                                                "first_name": {
                                                    "type": "string",
                                                    "description": "The first name of the passenger, such as 'Noah'."
                                                },
                                                "last_name": {
                                                    "type": "string",
                                                    "description": "The last name of the passenger, such as 'Brown'."
                                                },
                                                "dob": {
                                                    "type": "string",
                                                    "description": "The date of birth of the passenger in the format 'YYYY-MM-DD', such as '1990-01-01'."
                                                }
                                            },
                                            "required": [
                                                "first_name",
                                                "last_name",
                                                "dob"
                                            ]
                                        }
                                    },
                                    "payment_methods": {
                                        "type": "array",
                                        "description": "An array of objects containing details about each payment method.",
                                        "items": {
                                            "type": "object",
                                            "properties": {
                                                "payment_id": {
                                                    "type": "string",
                                                    "description": "The payment id stored in user profile, such as 'credit_card_7815826', 'gift_card_7815826', 'certificate_7815826'."
                                                },
                                                "amount": {
                                                    "type": "number",
                                                    "description": "The amount to be paid."
                                                }
                                            },
                                            "required": [
                                                "payment_id",
                                                "amount"
                                            ]
                                        }
                                    },
                                    "total_baggages": {
                                        "type": "integer",
                                        "description": "The total number of baggage items included in the reservation."
                                    },
                                    "nonfree_baggages": {
                                        "type": "integer",
                                        "description": "The number of non-free baggage items included in the reservation."
                                    },
                                    "insurance": {
                                        "type": "string",
                                        "enum": [
                                            "yes",
                                            "no"
                                        ]
                                    }
                                },
                                "required": [
                                    "user_id",
                                    "origin",
                                    "destination",
                                    "flight_type",
                                    "cabin",
                                    "flights",
                                    "passengers",
                                    "payment_methods",
                                    "total_baggages",
                                    "nonfree_baggages",
                                    "insurance"
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "The reservation was successfully booked and returned as a JSON object.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "reservation_id": {
                                            "type": "string",
                                            "description": "The unique ID of the reservation."
                                        },
                                        "user_id": {
                                            "type": "string",
                                            "description": "The user ID associated with the reservation."
                                        },
                                        "origin": {
                                            "type": "string",
                                            "description": "The IATA code for the origin city."
                                        },
                                        "destination": {
                                            "type": "string",
                                            "description": "The IATA code for the destination city."
                                        },
                                        "flight_type": {
                                            "type": "string",
                                            "enum": [
                                                "one_way",
                                                "round_trip"
                                            ]
                                        },
                                        "cabin": {
                                            "type": "string",
                                            "enum": [
                                                "basic_economy",
                                                "economy",
                                                "business"
                                            ]
                                        },
                                        "flights": {
                                            "type": "array",
                                            "items": {
                                                "type": "object",
                                                "properties": {
                                                    "flight_number": {
                                                        "type": "string"
                                                    },
                                                    "date": {
                                                        "type": "string"
                                                    },
                                                    "price": {
                                                        "type": "number"
                                                    },
                                                    "origin": {
                                                        "type": "string"
                                                    },
                                                    "destination": {
                                                        "type": "string"
                                                    }
                                                }
                                            }
                                        },
                                        "passengers": {
                                            "type": "array",
                                            "items": {
                                                "type": "object",
                                                "properties": {
                                                    "first_name": {
                                                        "type": "string"
                                                    },
                                                    "last_name": {
                                                        "type": "string"
                                                    },
                                                    "dob": {
                                                        "type": "string"
                                                    }
                                                }
                                            }
                                        },
                                        "payment_history": {
                                            "type": "array",
                                            "items": {
                                                "type": "object",
                                                "properties": {
                                                    "payment_id": {
                                                        "type": "string"
                                                    },
                                                    "amount": {
                                                        "type": "number"
                                                    }
                                                }
                                            }
                                        },
                                        "created_at": {
                                            "type": "string"
                                        },
                                        "total_baggages": {
                                            "type": "integer"
                                        },
                                        "nonfree_baggages": {
                                            "type": "integer"
                                        },
                                        "insurance": {
                                            "type": "string",
                                            "enum": [
                                                "yes",
                                                "no"
                                            ]
                                        }
                                    }
                                },
                                "examples": {
                                    "example": {
                                        "reservation_id": "4WQ150",
                                        "user_id": "chen_jackson_3290",
                                        "origin": "DFW",
                                        "destination": "LAX",
                                        "flight_type": "round_trip",
                                        "cabin": "business",
                                        "flights": [
                                            {
                                                "flight_number": "HAT170",
                                                "date": "2024-05-22",
                                                "price": 883,
                                                "origin": "DFW",
                                                "destination": "LAX"
                                            }
                                        ],
                                        "passengers": [
                                            {
                                                "first_name": "Chen",
                                                "last_name": "Jackson",
                                                "dob": "1956-07-07"
                                            }
                                        ],
                                        "payment_history": [
                                            {
                                                "payment_id": "gift_card_3576581",
                                                "amount": 4986
                                            }
                                        ],
                                        "created_at": "2024-05-02T03:10:19",
                                        "total_baggages": 5,
                                        "nonfree_baggages": 0,
                                        "insurance": "no"
                                    }
                                }
                            }
                        }
                    }
                },
                "x-input-examples": [
                    {
                        "user_id": "mia_li_3668",
                        "origin": "PHL",
                        "destination": "LGA",
                        "flight_type": "one_way",
                        "cabin": "economy",
                        "flights": [
                            {
                                "flight_number": "HAT001",
                                "date": "2024-05-16"
                            }
                        ],
                        "passengers": [
                            {
                                "first_name": "Mia",
                                "last_name": "Li",
                                "dob": "1990-04-05"
                            }
                        ],
                        "payment_methods": [
                            {
                                "payment_id": "credit_card_4421486",
                                "amount": 122.0
                            }
                        ],
                        "total_baggages": 1,
                        "nonfree_baggages": 0,
                        "insurance": "no"
                    }
                ],
                "x-output-examples": [
                    {
                        "reservation_id": "HATHAT",
                        "user_id": "mia_li_3668",
                        "origin": "PHL",
                        "destination": "LGA",
                        "flight_type": "one_way",
                        "cabin": "economy",
                        "flights": [
                            {
                                "flight_number": "HAT001",
                                "date": "2024-05-16",
                                "price": 122.0,
                                "origin": "PHL",
                                "destination": "LGA"
                            }
                        ],
                        "passengers": [
                            {
                                "first_name": "Mia",
                                "last_name": "Li",
                                "dob": "1990-04-05"
                            }
                        ],
                        "payment_history": [
                            {
                                "payment_id": "credit_card_4421486",
                                "amount": 122.0
                            }
                        ],
                        "created_at": "2024-05-15T15:00:00",
                        "total_baggages": 1,
                        "nonfree_baggages": 0,
                        "insurance": "no"
                    }
                ]
            }
        },
        "/get-flight-details": {
            "get": {
                "summary": "Get Flight Details",
                "description": "Retrieves the details of a flight using the flight identifier.",
                "operationId": "get_scheduled_flight",
                "parameters": [
                    {
                        "name": "flight_id",
                        "in": "query",
                        "required": true,
                        "description": "The flight identifier, for example, 'HAT001'.",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful operation",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "flight_number": {
                                            "type": "string",
                                            "description": "ScheduledFlight number, such as 'HAT001'."
                                        },
                                        "origin": {
                                            "type": "string",
                                            "description": "The IATA code for the origin city, such as 'SFO'."
                                        },
                                        "destination": {
                                            "type": "string",
                                            "description": "The IATA code for the destination city, such as 'JFK'."
                                        },
                                        "scheduled_departure_time_est": {
                                            "type": "string",
                                            "description": "Estimated scheduled detaprture time in HH:MM:SS format (24-hour clock)."
                                        },
                                        "scheduled_arrival_time_est": {
                                            "type": "string",
                                            "description": "Estimated scheduled arrival time in HH:MM:SS format (24-hour clock)."
                                        }
                                    },
                                    "required": [
                                        "flight_number",
                                        "origin",
                                        "destination",
                                        "scheduled_departure_time_est",
                                        "scheduled_arrival_time_est"
                                    ]
                                    },
                                "examples": {
                                    "successful": {
                                        "summary": "Flight details found",
                                        "value": {
                                            "flight_number": "HAT001",
                                            "origin": "PHL",
                                            "destination": "LGA",
                                            "scheduled_departure_time_est": "06:00:00",
                                            "scheduled_arrival_time_est": "07:00:00"
                                        }
                                    },
                                    "error": {
                                        "summary": "Flight not found",
                                        "value": "Error: flight not found"
                                    }
                                }
                            }
                        }
                    }
                },
                "x-readOnlyOperation": true,
                "x-input-examples": [
                    {
                        "flight_id": "HAT001"
                    },
                    {
                        "flight_id": "HAT999"
                    },
                    {
                        "flight_id": ""
                    }
                ],
                "x-output-examples": [
                    "{\"flight_number\": \"HAT001\", \"origin\": \"PHL\", \"destination\": \"LGA\", \"scheduled_departure_time_est\": \"06:00:00\", \"scheduled_arrival_time_est\": \"07:00:00\"}",
                    "Error: flight not found"
                ]
            }
        },
        "/calculate": {
            "post": {
                "x-readOnlyOperation": true,
                "operationId": "calculate",
                "summary": "Calculate the result of a mathematical expression.",
                "description": "Evaluate the given mathematical expression and return the calculated result.",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "expression": {
                                        "type": "string",
                                        "description": "The mathematical expression to calculate, such as '2 + 2'. The expression can contain numbers, operators (+, -, *, /), parentheses, and spaces.",
                                        "example": "2 + 2"
                                    }
                                },
                                "required": [
                                    "expression"
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful operation",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "string",
                                    "description": "Result of the calculated expression. Could be a number or an error message."
                                },
                                "examples": {
                                    "default": "4.0"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid expression provided",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "string",
                                    "description": "Error message indicating the problem with expression."
                                },
                                "examples": {
                                    "default": "Error: invalid characters in expression"
                                }
                            }
                        }
                    }
                },
                "x-input-examples": [
                    {
                        "expression": "2 + 2"
                    },
                    {
                        "expression": "3 * (4 + 7)"
                    },
                    {
                        "expression": "10 / 2"
                    },
                    {
                        "expression": "(5 + 3) * (2 - 1)"
                    }
                ],
                "x-output-examples": [
                    "4.0",
                    "33.0",
                    "5.0",
                    "8.0"
                ]
            }
        },
        "/cancel-reservation": {
            "post": {
                "x-readOnlyOperation": false,
                "operationId": "cancel_reservation",
                "summary": "Cancel the whole reservation",
                "description": "This endpoint cancels the entire reservation and processes the refund.",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "reservation_id": {
                                        "type": "string",
                                        "description": "The reservation ID, such as 'ZFA04Y'."
                                    }
                                },
                                "required": [
                                    "reservation_id"
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Returns the updated reservation information with cancellation status and refund details.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "reservation_id": {
                                            "type": "string"
                                        },
                                        "user_id": {
                                            "type": "string"
                                        },
                                        "status": {
                                            "type": "string"
                                        },
                                        "payment_history": {
                                            "type": "array",
                                            "items": {
                                                "type": "object",
                                                "properties": {
                                                    "payment_id": {
                                                        "type": "string"
                                                    },
                                                    "amount": {
                                                        "type": "number"
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                "examples": {
                                    "example-1": {
                                        "reservation_id": "4WQ150",
                                        "user_id": "chen_jackson_3290",
                                        "status": "cancelled",
                                        "payment_history": [
                                            {
                                                "payment_id": "gift_card_3576581",
                                                "amount": 4986
                                            },
                                            {
                                                "payment_id": "gift_card_3576581",
                                                "amount": -4986
                                            }
                                        ]
                                    }
                                }
                            }
                        }
                    }
                },
                "x-input-examples": [
                    {
                        "reservation_id": "4WQ150"
                    },
                    {
                        "reservation_id": "ZFA04Y"
                    },
                    {
                        "reservation_id": "NO6JO3"
                    }
                ],
                "x-output-examples": [
                    "{\"reservation_id\": \"4WQ150\", \"user_id\": \"chen_jackson_3290\", \"status\": \"cancelled\", \"payment_history\": [{\"payment_id\": \"gift_card_3576581\", \"amount\": 4986},{\"payment_id\": \"gift_card_3576581\", \"amount\": -4986}]}",
                    "\"Error: reservation not found\""
                ]
            }
        },
        "/get-flight-on-date-details": {
            "get": {
                "x-readOnlyOperation": true,
                "description": "Get the details of a flight occurrence on a specific date including status, available seats, and prices.",
                "operationId": "get_flight_instance",
                "parameters": [
                    {
                        "name": "flight_id",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "type": "string"
                        },
                        "description": "The flight id, such as 'HAT001'."
                    },
                    {
                        "name": "date",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "type": "string"
                        },
                        "description": "The date of the flight, such as '2024-05-02'."
                    }
                ],
                "x-input-examples": [
                    {
                        "flight_id": "HAT001",
                        "date": "2024-05-01"
                    },
                    {
                        "flight_id": "HAT002",
                        "date": "2024-05-03"
                    },
                    {
                        "flight_id": "HAT001",
                        "date": "2024-05-16"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Flight details retrieved successfully.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "status": {
                                            "type": "string"
                                        },
                                        "actual_departure_time_est": {
                                            "type": "string"
                                        },
                                        "actual_arrival_time_est": {
                                            "type": "string"
                                        },
                                        "available_seats": {
                                            "type": "object",
                                            "properties": {
                                                "basic_economy": {
                                                    "type": "integer"
                                                },
                                                "economy": {
                                                    "type": "integer"
                                                },
                                                "business": {
                                                    "type": "integer"
                                                }
                                            }
                                        },
                                        "prices": {
                                            "type": "object",
                                            "properties": {
                                                "basic_economy": {
                                                    "type": "integer"
                                                },
                                                "economy": {
                                                    "type": "integer"
                                                },
                                                "business": {
                                                    "type": "integer"
                                                }
                                            }
                                        }
                                    }
                                },
                                "examples": {
                                    "landed": {
                                        "value": {
                                            "status": "landed",
                                            "actual_departure_time_est": "2024-05-01T06:26:00",
                                            "actual_arrival_time_est": "2024-05-01T06:58:00"
                                        }
                                    },
                                    "cancelled": {
                                        "value": {
                                            "status": "cancelled"
                                        }
                                    },
                                    "available": {
                                        "value": {
                                            "status": "available",
                                            "available_seats": {
                                                "basic_economy": 16,
                                                "economy": 10,
                                                "business": 13
                                            },
                                            "prices": {
                                                "basic_economy": 87,
                                                "economy": 122,
                                                "business": 471
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "x-output-examples": [
                    "{\"status\": \"landed\", \"actual_departure_time_est\": \"2024-05-01T06:26:00\", \"actual_arrival_time_est\": \"2024-05-01T06:58:00\"}",
                    "{\"status\": \"cancelled\"}",
                    "{\"status\": \"available\", \"available_seats\": {\"basic_economy\": 16, \"economy\": 10, \"business\": 13}, \"prices\": {\"basic_economy\": 87, \"economy\": 122, \"business\": 471}}"
                ]
            }
        },
        "/search-onestop-flight": {
            "get": {
                "description": "Search for direct flights between two cities on a specific date.",
                "operationId": "search_onestop_flight",
                "parameters": [
                    {
                        "name": "origin",
                        "in": "query",
                        "required": true,
                        "schema": {"type": "string"},
                        "description": "The origin city airport in three letters, such as 'JFK'."
                    },
                    {
                        "name": "destination",
                        "in": "query",
                        "required": true,
                        "schema": {"type": "string"},
                        "description": "The destination city airport in three letters, such as 'LAX'."
                    },
                    {
                        "name": "date",
                        "in": "query",
                        "required": true,
                        "schema": {"type": "string"},
                        "description": "The date of the flight in the format 'YYYY-MM-DD', such as '2024-05-01'."
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful response with a list of available flights.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "type": "object",
                                        "properties": {
                                            "flight_number": {
                                                "type": "string",
                                                "description": "The flight number."
                                            },
                                            "origin": {
                                                "type": "string",
                                                "description": "Origin airport code."
                                            },
                                            "destination": {
                                                "type": "string",
                                                "description": "Destination airport code."
                                            },
                                            "scheduled_departure_time_est": {
                                                "type": "string",
                                                "description": "Scheduled departure time in EST."
                                            },
                                            "scheduled_arrival_time_est": {
                                                "type": "string",
                                                "description": "Scheduled arrival time in EST."
                                            },
                                            "status": {
                                                "type": "string",
                                                "description": "Flight status (landed, cancelled, available)."
                                            },
                                            "actual_departure_time_est": {
                                                "type": "string",
                                                "description": "Actual departure time in EST."
                                            },
                                            "actual_arrival_time_est": {
                                                "type": "string",
                                                "description": "Actual arrival time in EST."
                                            },
                                            "available_seats": {
                                                "type": "object",
                                                "properties": {
                                                    "basic_economy": {
                                                        "type": "integer"
                                                    },
                                                    "economy": {
                                                        "type": "integer"
                                                    },
                                                    "business": {
                                                        "type": "integer"
                                                    }
                                                },
                                                "description": "Available seats by cabin type."
                                            },
                                            "prices": {
                                                "type": "object",
                                                "properties": {
                                                    "basic_economy": {
                                                        "type": "integer"
                                                    },
                                                    "economy": {
                                                        "type": "integer"
                                                    },
                                                    "business": {
                                                        "type": "integer"
                                                    }
                                                },
                                                "description": "Prices for seats by cabin type."
                                            },
                                            "date": {
                                                "type": "string",
                                                "description": "Date of the flight."
                                            }
                                        }
                                    }
                                },
                                "examples": {
                                    "flight_search": {
                                        "summary": "Example flight search",
                                        "value": [
                                            [
                                                {
                                                    "flight_number": "HAT001",
                                                    "origin": "PHL",
                                                    "destination": "LGA",
                                                    "scheduled_departure_time_est": "06:00:00",
                                                    "scheduled_arrival_time_est": "07:00:00",
                                                    "status": "available",
                                                    "available_seats": {
                                                        "basic_economy": 16,
                                                        "economy": 10,
                                                        "business": 13
                                                    },
                                                    "prices": {
                                                        "basic_economy": 87,
                                                        "economy": 122,
                                                        "business": 471
                                                    },
                                                    "date": "2024-05-16"
                                                },
                                                {
                                                    "flight_number": "HAT002",
                                                    "origin": "LGA",
                                                    "destination": "SFO",
                                                    "scheduled_departure_time_est": "08:00:00",
                                                    "scheduled_arrival_time_est": "12:00:00",
                                                    "status": "available",
                                                    "available_seats": {
                                                        "basic_economy": 20,
                                                        "economy": 15,
                                                        "business": 10
                                                    },
                                                    "prices": {
                                                        "basic_economy": 110,
                                                        "economy": 150,
                                                        "business": 300
                                                    },
                                                    "date": "2024-05-16"
                                                }
                                            ]
                                        ]
                                    }
                                }
                            }
                        }
                    }
                },
                "x-readOnlyOperation": true,
                "x-input-examples": [
                    [
                        "JFK",
                        "LAX",
                        "2024-05-01"
                    ],
                    [
                        "PHL",
                        "SFO",
                        "2024-05-16"
                    ],
                    [
                        "DFW",
                        "LAX",
                        "2024-05-22"
                    ]
                ],
                "x-output-examples": [
                    [],
                    [
                        [
                            {
                                "flight_number": "HAT001",
                                "origin": "PHL",
                                "destination": "LGA",
                                "scheduled_departure_time_est": "06:00:00",
                                "scheduled_arrival_time_est": "07:00:00",
                                "status": "available",
                                "available_seats": {
                                    "basic_economy": 16,
                                    "economy": 10,
                                    "business": 13
                                },
                                "prices": {
                                    "basic_economy": 87,
                                    "economy": 122,
                                    "business": 471
                                },
                                "date": "2024-05-16"
                            },
                            {
                                "flight_number": "HAT002",
                                "origin": "LGA",
                                "destination": "SFO",
                                "scheduled_departure_time_est": "08:00:00",
                                "scheduled_arrival_time_est": "12:00:00",
                                "status": "available",
                                "available_seats": {
                                    "basic_economy": 20,
                                    "economy": 15,
                                    "business": 10
                                },
                                "prices": {
                                    "basic_economy": 110,
                                    "economy": 150,
                                    "business": 300
                                },
                                "date": "2024-05-16"
                            }
                        ]
                    ]
                ]
            }
        },
        "/update-reservation-flights": {
            "post": {
                "summary": "Update the flight information of a reservation.",
                "description": "Allows updating the flight details for a user's reservation.",
                "operationId": "update_reservation_flights",
                "x-readOnlyOperation": false,
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "reservation_id": {
                                        "type": "string",
                                        "description": "The reservation ID, such as 'ZFA04Y'."
                                    },
                                    "cabin": {
                                        "type": "string",
                                        "enum": [
                                            "basic_economy",
                                            "economy",
                                            "business"
                                        ],
                                        "description": "The cabin type for the reservation."
                                    },
                                    "flights": {
                                        "type": "array",
                                        "description": "An array of objects containing details about each flight segment in the updated reservation.",
                                        "items": {
                                            "type": "object",
                                            "properties": {
                                                "flight_number": {
                                                    "type": "string",
                                                    "description": "Flight number, such as 'HAT001'."
                                                },
                                                "date": {
                                                    "type": "string",
                                                    "description": "The date for the flight in the format 'YYYY-MM-DD', such as '2024-05-01'."
                                                }
                                            },
                                            "required": [
                                                "flight_number",
                                                "date"
                                            ]
                                        }
                                    },
                                    "payment_id": {
                                        "type": "string",
                                        "description": "The payment id stored in user profile, such as 'credit_card_7815826', 'gift_card_7815826', 'certificate_7815826'."
                                    }
                                },
                                "required": [
                                    "reservation_id",
                                    "cabin",
                                    "flights",
                                    "payment_id"
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Reservation update confirmation.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "string",
                                    "description": "Response JSON with the updated reservation details or error message."
                                },
                                "examples": {
                                    "success": {
                                        "value": "{\"reservation_id\": \"4WQ150\", \"user_id\": \"chen_jackson_3290\", \"flights\": [{\"origin\": \"DFW\", \"destination\": \"LAX\", \"flight_number\": \"HAT170\", \"date\": \"2024-05-22\", \"price\": 883}], \"payment_history\": [{\"payment_id\": \"gift_card_3576581\", \"amount\": 4986}], \"total_baggages\": 5, \"nonfree_baggages\": 0, \"insurance\": \"no\"}"
                                    },
                                    "error": {
                                        "value": "Error: reservation not found"
                                    }
                                }
                            }
                        }
                    }
                },
                "x-input-examples": [
                    {
                        "reservation_id": "4WQ150",
                        "cabin": "business",
                        "flights": [
                            {
                                "flight_number": "HAT170",
                                "date": "2024-05-22"
                            }
                        ],
                        "payment_id": "gift_card_3576581"
                    },
                    {
                        "reservation_id": "XYZ123",
                        "cabin": "economy",
                        "flights": [
                            {
                                "flight_number": "HAT001",
                                "date": "2024-05-16"
                            }
                        ],
                        "payment_id": "credit_card_4421486"
                    }
                ],
                "x-output-examples": [
                    "{\"reservation_id\": \"4WQ150\", \"user_id\": \"chen_jackson_3290\", \"flights\": [{\"origin\": \"DFW\", \"destination\": \"LAX\", \"flight_number\": \"HAT170\", \"date\": \"2024-05-22\", \"price\": 883}], \"payment_history\": [{\"payment_id\": \"gift_card_3576581\", \"amount\": 4986}], \"total_baggages\": 5, \"nonfree_baggages\": 0, \"insurance\": \"no\"}",
                    "Error: flight HAT001 not found"
                ]
            }
        },
        "/reservation-details": {
            "get": {
                "operationId": "get_reservation_details",
                "description": "Get the details of a reservation.",
                "parameters": [
                    {
                        "name": "reservation_id",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "type": "string"
                        },
                        "description": "The reservation id, such as '8JX2WO'."
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful response containing reservation details.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "reservation_id": {
                                            "type": "string",
                                            "description": "Reservation ID."
                                        },
                                        "user_id": {
                                            "type": "string",
                                            "description": "User ID associated with the reservation."
                                        },
                                        "origin": {
                                            "type": "string",
                                            "description": "Origin airport code."
                                        },
                                        "destination": {
                                            "type": "string",
                                            "description": "Destination airport code."
                                        },
                                        "flight_type": {
                                            "type": "string",
                                            "description": "Type of flight (e.g., round_trip)."
                                        },
                                        "cabin": {
                                            "type": "string",
                                            "description": "Cabin type."
                                        },
                                        "flights": {
                                            "type": "array",
                                            "description": "Details of flights.",
                                            "items": {
                                                "type": "object",
                                                "properties": {
                                                    "origin": {
                                                        "type": "string",
                                                        "description": "Origin airport code."
                                                    },
                                                    "destination": {
                                                        "type": "string",
                                                        "description": "Destination airport code."
                                                    },
                                                    "flight_number": {
                                                        "type": "string",
                                                        "description": "Flight number."
                                                    },
                                                    "date": {
                                                        "type": "string",
                                                        "description": "Date of the flight."
                                                    },
                                                    "price": {
                                                        "type": "integer",
                                                        "description": "Price of the flight."
                                                    }
                                                }
                                            }
                                        },
                                        "passengers": {
                                            "type": "array",
                                            "description": "List of passengers.",
                                            "items": {
                                                "type": "object",
                                                "properties": {
                                                    "first_name": {
                                                        "type": "string",
                                                        "description": "Passenger's first name."
                                                    },
                                                    "last_name": {
                                                        "type": "string",
                                                        "description": "Passenger's last name."
                                                    },
                                                    "dob": {
                                                        "type": "string",
                                                        "description": "Passenger's date of birth."
                                                    }
                                                }
                                            }
                                        },
                                        "payment_history": {
                                            "type": "array",
                                            "description": "Payment history for the reservation.",
                                            "items": {
                                                "type": "object",
                                                "properties": {
                                                    "payment_id": {
                                                        "type": "string",
                                                        "description": "Payment ID."
                                                    },
                                                    "amount": {
                                                        "type": "integer",
                                                        "description": "Amount paid."
                                                    }
                                                }
                                            }
                                        },
                                        "created_at": {
                                            "type": "string",
                                            "description": "Timestamp for when the reservation was created."
                                        },
                                        "total_baggages": {
                                            "type": "integer",
                                            "description": "Total number of baggages."
                                        },
                                        "nonfree_baggages": {
                                            "type": "integer",
                                            "description": "Number of non-free baggages."
                                        },
                                        "insurance": {
                                            "type": "string",
                                            "description": "Insurance details."
                                        }
                                    }
                                },
                                "example": {
                                    "reservation_id": "4WQ150",
                                    "user_id": "chen_jackson_3290",
                                    "origin": "DFW",
                                    "destination": "LAX",
                                    "flight_type": "round_trip",
                                    "cabin": "business",
                                    "flights": [
                                        {
                                            "origin": "DFW",
                                            "destination": "LAX",
                                            "flight_number": "HAT170",
                                            "date": "2024-05-22",
                                            "price": 883
                                        }
                                    ],
                                    "passengers": [
                                        {
                                            "first_name": "Chen",
                                            "last_name": "Jackson",
                                            "dob": "1956-07-07"
                                        }
                                    ],
                                    "payment_history": [
                                        {
                                            "payment_id": "gift_card_3576581",
                                            "amount": 4986
                                        }
                                    ],
                                    "created_at": "2024-05-02T03:10:19",
                                    "total_baggages": 5,
                                    "nonfree_baggages": 0,
                                    "insurance": "no"
                                }
                            }
                        }
                    }
                },
                "x-input-examples": [
                    {
                        "reservation_id": "4WQ150"
                    },
                    {
                        "reservation_id": "NO6JO3"
                    }
                ],
                "x-output-examples": [
                    {
                        "reservation_id": "4WQ150",
                        "user_id": "chen_jackson_3290",
                        "origin": "DFW",
                        "destination": "LAX",
                        "flight_type": "round_trip",
                        "cabin": "business",
                        "flights": [
                            {
                                "origin": "DFW",
                                "destination": "LAX",
                                "flight_number": "HAT170",
                                "date": "2024-05-22",
                                "price": 883
                            }
                        ],
                        "passengers": [
                            {
                                "first_name": "Chen",
                                "last_name": "Jackson",
                                "dob": "1956-07-07"
                            }
                        ],
                        "payment_history": [
                            {
                                "payment_id": "gift_card_3576581",
                                "amount": 4986
                            }
                        ],
                        "created_at": "2024-05-02T03:10:19",
                        "total_baggages": 5,
                        "nonfree_baggages": 0,
                        "insurance": "no"
                    }
                ],
                "x-readOnlyOperation": true
            }
        },
        "/think": {
            "post": {
                "description": "Invoke the Think tool to process the given thought. Adds the thought to the log for complex reasoning.",
                "operationId": "think",
                "x-readOnlyOperation": true,
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "thought": {
                                        "type": "string",
                                        "description": "A thought to think about."
                                    }
                                },
                                "required": [
                                    "thought"
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "The thought process completed, and the thought was appended to the log.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "string",
                                    "description": "The result of the thought processing."
                                },
                                "example": ""
                            }
                        }
                    }
                },
                "x-input-examples": [
                    {
                        "thought": "Why do planes fly?"
                    },
                    {
                        "thought": "Significance of May 16 in aviation history."
                    },
                    {
                        "thought": "Reflection on effective data processing techniques."
                    }
                ],
                "x-output-examples": [
                    ""
                ]
            }
        },
        "/get-user-details": {
            "get": {
                "summary": "Retrieve user details",
                "description": "Get the details of a user using their unique user ID.",
                "operationId": "get_user_details",
                "parameters": [
                    {
                        "name": "user_id",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "type": "string"
                        },
                        "description": "The user ID, such as 'sara_doe_496'."
                    }
                ],
                "responses": {
                    "200": {
                        "description": "User details retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "name": {
                                            "type": "object",
                                            "properties": {
                                                "first_name": {
                                                    "type": "string"
                                                },
                                                "last_name": {
                                                    "type": "string"
                                                }
                                            }
                                        },
                                        "address": {
                                            "type": "object",
                                            "properties": {
                                                "address1": {
                                                    "type": "string"
                                                },
                                                "city": {
                                                    "type": "string"
                                                },
                                                "country": {
                                                    "type": "string"
                                                },
                                                "province": {
                                                    "type": "string"
                                                },
                                                "zip": {
                                                    "type": "string"
                                                }
                                            }
                                        },
                                        "email": {
                                            "type": "string"
                                        },
                                        "dob": {
                                            "type": "string"
                                        },
                                        "payment_methods": {
                                            "type": "object",
                                            "additionalProperties": {
                                                "type": "object",
                                                "properties": {
                                                    "source": {
                                                        "type": "string"
                                                    },
                                                    "brand": {
                                                        "type": "string",
                                                        "nullable": true
                                                    },
                                                    "last_four": {
                                                        "type": "string",
                                                        "nullable": true
                                                    },
                                                    "amount": {
                                                        "type": "integer",
                                                        "nullable": true
                                                    }
                                                }
                                            }
                                        },
                                        "saved_passengers": {
                                            "type": "array",
                                            "items": {
                                                "type": "object",
                                                "properties": {
                                                    "first_name": {
                                                        "type": "string"
                                                    },
                                                    "last_name": {
                                                        "type": "string"
                                                    },
                                                    "dob": {
                                                        "type": "string"
                                                    }
                                                }
                                            }
                                        },
                                        "membership": {
                                            "type": "string"
                                        },
                                        "reservations": {
                                            "type": "array",
                                            "items": {
                                                "type": "string"
                                            }
                                        }
                                    }
                                },
                                "examples": {
                                    "mia_li_3668": {
                                        "summary": "Example user detail",
                                        "value": {
                                            "name": {
                                                "first_name": "Mia",
                                                "last_name": "Li"
                                            },
                                            "address": {
                                                "address1": "975 Sunset Drive",
                                                "city": "Austin",
                                                "country": "USA",
                                                "province": "TX",
                                                "zip": "78750"
                                            },
                                            "email": "mia.li3818@example.com",
                                            "dob": "1990-04-05",
                                            "payment_methods": {
                                                "credit_card_4421486": {
                                                    "source": "credit_card",
                                                    "brand": "visa",
                                                    "last_four": "7447"
                                                },
                                                "certificate_4856383": {
                                                    "source": "certificate",
                                                    "amount": 100
                                                }
                                            },
                                            "saved_passengers": [
                                                {
                                                    "first_name": "Amelia",
                                                    "last_name": "Ahmed",
                                                    "dob": "1957-03-21"
                                                }
                                            ],
                                            "membership": "gold",
                                            "reservations": [
                                                "NO6JO3"
                                            ]
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "x-input-examples": [
                    {
                        "user_id": "mia_li_3668"
                    },
                    {
                        "user_id": "john_doe_1234"
                    },
                    {
                        "user_id": "chen_jackson_3290"
                    }
                ],
                "x-output-examples": [
                    {
                        "name": {
                            "first_name": "Mia",
                            "last_name": "Li"
                        },
                        "address": {
                            "address1": "975 Sunset Drive",
                            "city": "Austin",
                            "country": "USA",
                            "province": "TX",
                            "zip": "78750"
                        },
                        "email": "mia.li3818@example.com",
                        "dob": "1990-04-05",
                        "payment_methods": {
                            "credit_card_4421486": {
                                "source": "credit_card",
                                "brand": "visa",
                                "last_four": "7447"
                            },
                            "certificate_4856383": {
                                "source": "certificate",
                                "amount": 100
                            }
                        },
                        "saved_passengers": [
                            {
                                "first_name": "Amelia",
                                "last_name": "Ahmed",
                                "dob": "1957-03-21"
                            }
                        ],
                        "membership": "gold",
                        "reservations": [
                            "NO6JO3"
                        ]
                    },
                    {
                        "Error": "user not found"
                    }
                ],
                "x-readOnlyOperation": true
            }
        },
        "/transfer-to-human-agents": {
            "post": {
                "x-readOnlyOperation": false,
                "operationId": "transfer_to_human_agents",
                "description": "Transfer the user to a human agent with a summary of the user's issue.",
                "requestBody": {
                    "description": "Summary of the user's issue.",
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "summary": {
                                        "type": "string",
                                        "description": "A summary of the user's issue."
                                    }
                                },
                                "required": [
                                    "summary"
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successfully transferred to human agent.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "string"
                                },
                                "examples": {
                                    "example1": {
                                        "value": "Transfer successful"
                                    }
                                }
                            }
                        }
                    }
                },
                "x-input-examples": [
                    {
                        "summary": "User cannot resolve issue with available tools."
                    },
                    {
                        "summary": "User explicitly requested a human agent."
                    }
                ],
                "x-output-examples": [
                    "Transfer successful"
                ]
            }
        },
        "/send-certificate": {
            "post": {
                "x-readOnlyOperation": false,
                "operationId": "send_certificate",
                "description": "Send a certificate to a user. Be careful!",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "user_id": {
                                        "type": "string",
                                        "description": "The ID of the user to book the reservation, such as 'sara_doe_496'."
                                    },
                                    "amount": {
                                        "type": "number",
                                        "description": "Certificate amount to send."
                                    }
                                },
                                "required": [
                                    "user_id",
                                    "amount"
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Success response with the status of certificate sending.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "string",
                                    "description": "Detailed message of certificate addition status."
                                },
                                "examples": {
                                    "added": {
                                        "summary": "Certificate added",
                                        "value": "Certificate certificate_3221323 added to user mia_li_3668 with amount 100."
                                    },
                                    "error": {
                                        "summary": "User not found",
                                        "value": "Error: user not found"
                                    }
                                }
                            }
                        }
                    }
                },
                "x-input-examples": [
                    {
                        "data": {
                            "users": {
                                "mia_li_3668": {}
                            }
                        },
                        "user_id": "mia_li_3668",
                        "amount": 100
                    },
                    {
                        "data": {
                            "users": {
                                "sara_doe_496": {}
                            }
                        },
                        "user_id": "sara_doe_496",
                        "amount": 200
                    },
                    {
                        "data": {
                            "users": {
                                "john_doe_1234": {}
                            }
                        },
                        "user_id": "john_doe_1234",
                        "amount": 50
                    }
                ],
                "x-output-examples": [
                    "Certificate certificate_3221323 added to user mia_li_3668 with amount 100.",
                    "Error: user not found"
                ]
            }
        },
        "/search-direct-flight": {
            "get": {
                "description": "Search direct flights between two cities on a specific date.",
                "parameters": [
                    {
                        "name": "origin",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "type": "string"
                        },
                        "description": "The origin city airport code in three letters, such as 'JFK'."
                    },
                    {
                        "name": "destination",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "type": "string"
                        },
                        "description": "The destination city airport code in three letters, such as 'LAX'."
                    },
                    {
                        "name": "date",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "type": "string"
                        },
                        "description": "The date of the flight in the format 'YYYY-MM-DD', such as '2024-01-01'."
                    }
                ],
                "responses": {
                    "200": {
                        "description": "List of direct flights available between the origin and destination on the specified date.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "type": "object",
                                        "properties": {
                                            "flight_number": {
                                                "type": "string",
                                                "description": "The flight number."
                                            },
                                            "origin": {
                                                "type": "string",
                                                "description": "The origin airport."
                                            },
                                            "destination": {
                                                "type": "string",
                                                "description": "The destination airport."
                                            },
                                            "scheduled_departure_time_est": {
                                                "type": "string",
                                                "description": "The scheduled departure time."
                                            },
                                            "scheduled_arrival_time_est": {
                                                "type": "string",
                                                "description": "The scheduled arrival time."
                                            },
                                            "status": {
                                                "type": "string",
                                                "description": "Current status of the flight."
                                            },
                                            "available_seats": {
                                                "type": "object",
                                                "description": "Available seats in different classes.",
                                                "properties": {
                                                    "basic_economy": {
                                                        "type": "integer"
                                                    },
                                                    "economy": {
                                                        "type": "integer"
                                                    },
                                                    "business": {
                                                        "type": "integer"
                                                    }
                                                }
                                            },
                                            "prices": {
                                                "type": "object",
                                                "description": "Prices for different classes.",
                                                "properties": {
                                                    "basic_economy": {
                                                        "type": "integer"
                                                    },
                                                    "economy": {
                                                        "type": "integer"
                                                    },
                                                    "business": {
                                                        "type": "integer"
                                                    }
                                                }
                                            }
                                        }
                                    },
                                    "example": [
                                        {
                                            "flight_number": "HAT001",
                                            "origin": "PHL",
                                            "destination": "LGA",
                                            "scheduled_departure_time_est": "06:00:00",
                                            "scheduled_arrival_time_est": "07:00:00",
                                            "status": "available",
                                            "available_seats": {
                                                "basic_economy": 16,
                                                "economy": 10,
                                                "business": 13
                                            },
                                            "prices": {
                                                "basic_economy": 87,
                                                "economy": 122,
                                                "business": 471
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                },
                "x-input-examples": [
                    "SearchDirectFlight.invoke({'flights': {...}}, 'PHL', 'LGA', '2024-05-16')",
                    "SearchDirectFlight.invoke({'flights': {...}}, 'DFW', 'LAX', '2024-05-22')",
                    "SearchDirectFlight.invoke({'flights': {...}}, 'JFK', 'SFO', '2024-06-01')"
                ],
                "x-output-examples": [
                    "[{'flight_number': 'HAT001', 'origin': 'PHL', 'destination': 'LGA', 'scheduled_departure_time_est': '06:00:00', 'scheduled_arrival_time_est': '07:00:00', 'status': 'available', 'available_seats': { 'basic_economy': 16, 'economy': 10, 'business': 13}, 'prices': { 'basic_economy': 87, 'economy': 122, 'business': 471}}]",
                    "[]",
                    "[{'flight_number': 'HAT170', 'origin': 'DFW', 'destination': 'LAX', 'scheduled_departure_time_est': '09:00:00', 'scheduled_arrival_time_est': '12:00:00', 'status': 'available', 'available_seats': { 'basic_economy': 20, 'economy': 15, 'business': 8}, 'prices': { 'basic_economy': 150, 'economy': 200, 'business': 500}}]"
                ],
                "x-readOnlyOperation": true,
                "operationId": "search_direct_flight"
            }
        },
        "/update-reservation-passengers": {
            "post": {
                "operationId": "update_reservation_passengers",
                "x-readOnlyOperation": false,
                "x-input-examples": [
                    {
                        "reservation_id": "4WQ150",
                        "passengers": [
                            {
                                "first_name": "Chen",
                                "last_name": "Jackson",
                                "dob": "1956-07-07"
                            }
                        ]
                    },
                    {
                        "reservation_id": "NO6JO3",
                        "passengers": [
                            {
                                "first_name": "Amelia",
                                "last_name": "Ahmed",
                                "dob": "1957-03-21"
                            }
                        ]
                    }
                ],
                "x-output-examples": [
                    "{\"reservation_id\": \"4WQ150\", \"user_id\": \"chen_jackson_3290\", \"origin\": \"DFW\", \"destination\": \"LAX\", \"flight_type\": \"round_trip\", \"cabin\": \"business\", \"flights\": [{\"origin\": \"DFW\", \"destination\": \"LAX\", \"flight_number\": \"HAT170\", \"date\": \"2024-05-22\", \"price\": 883}], \"passengers\": [{\"first_name\": \"Chen\", \"last_name\": \"Jackson\", \"dob\": \"1956-07-07\"}], \"payment_history\": [{\"payment_id\": \"gift_card_3576581\", \"amount\": 4986}], \"created_at\": \"2024-05-02T03:10:19\", \"total_baggages\": 5, \"nonfree_baggages\": 0, \"insurance\": \"no\"}",
                    "Error: reservation not found",
                    "Error: number of passengers does not match"
                ],
                "summary": "Update the passenger information for an existing reservation.",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "reservation_id": {
                                        "type": "string",
                                        "description": "The reservation ID, such as 'ZFA04Y'."
                                    },
                                    "passengers": {
                                        "type": "array",
                                        "description": "An array of objects containing details about each passenger.",
                                        "items": {
                                            "type": "object",
                                            "properties": {
                                                "first_name": {
                                                    "type": "string",
                                                    "description": "The first name of the passenger, such as 'Noah'."
                                                },
                                                "last_name": {
                                                    "type": "string",
                                                    "description": "The last name of the passenger, such as 'Brown'."
                                                },
                                                "dob": {
                                                    "type": "string",
                                                    "description": "The date of birth of the passenger in the format 'YYYY-MM-DD', such as '1990-01-01'."
                                                }
                                            },
                                            "required": [
                                                "first_name",
                                                "last_name",
                                                "dob"
                                            ]
                                        }
                                    }
                                },
                                "required": [
                                    "reservation_id",
                                    "passengers"
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful response containing the updated reservation details.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "string",
                                    "description": "JSON representation of the updated reservation."
                                },
                                "examples": {
                                    "successful": {
                                        "value": "{\"reservation_id\": \"4WQ150\", \"user_id\": \"chen_jackson_3290\", \"origin\": \"DFW\", \"destination\": \"LAX\", \"flight_type\": \"round_trip\", \"cabin\": \"business\", \"flights\": [{\"origin\": \"DFW\", \"destination\": \"LAX\", \"flight_number\": \"HAT170\", \"date\": \"2024-05-22\", \"price\": 883}], \"passengers\": [{\"first_name\": \"Chen\", \"last_name\": \"Jackson\", \"dob\": \"1956-07-07\"}], \"payment_history\": [{\"payment_id\": \"gift_card_3576581\", \"amount\": 4986}], \"created_at\": \"2024-05-02T03:10:19\", \"total_baggages\": 5, \"nonfree_baggages\": 0, \"insurance\": \"no\"}"
                                    },
                                    "reservation_not_found": {
                                        "value": "Error: reservation not found"
                                    },
                                    "passenger_mismatch": {
                                        "value": "Error: number of passengers does not match"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/update-reservation-baggages": {
            "post": {
                "x-readOnlyOperation": false,
                "operationId": "update_reservation_baggages",
                "description": "Update the baggage information of a reservation.",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "reservation_id": {
                                        "type": "string",
                                        "description": "The reservation ID, such as 'ZFA04Y'."
                                    },
                                    "total_baggages": {
                                        "type": "integer",
                                        "description": "The updated total number of baggage items included in the reservation."
                                    },
                                    "nonfree_baggages": {
                                        "type": "integer",
                                        "description": "The updated number of non-free baggage items included in the reservation."
                                    },
                                    "payment_id": {
                                        "type": "string",
                                        "description": "The payment id stored in user profile, such as 'credit_card_7815826', 'gift_card_7815826', 'certificate_7815826'."
                                    }
                                },
                                "required": [
                                    "reservation_id",
                                    "total_baggages",
                                    "nonfree_baggages",
                                    "payment_id"
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "The updated reservation after baggage modifications.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "reservation_id": {
                                            "type": "string"
                                        },
                                        "user_id": {
                                            "type": "string"
                                        },
                                        "origin": {
                                            "type": "string"
                                        },
                                        "destination": {
                                            "type": "string"
                                        },
                                        "flight_type": {
                                            "type": "string"
                                        },
                                        "cabin": {
                                            "type": "string"
                                        },
                                        "flights": {
                                            "type": "array",
                                            "items": {
                                                "type": "object",
                                                "properties": {
                                                    "origin": {
                                                        "type": "string"
                                                    },
                                                    "destination": {
                                                        "type": "string"
                                                    },
                                                    "flight_number": {
                                                        "type": "string"
                                                    },
                                                    "date": {
                                                        "type": "string"
                                                    },
                                                    "price": {
                                                        "type": "integer"
                                                    }
                                                }
                                            }
                                        },
                                        "passengers": {
                                            "type": "array",
                                            "items": {
                                                "type": "object",
                                                "properties": {
                                                    "first_name": {
                                                        "type": "string"
                                                    },
                                                    "last_name": {
                                                        "type": "string"
                                                    },
                                                    "dob": {
                                                        "type": "string"
                                                    }
                                                }
                                            }
                                        },
                                        "payment_history": {
                                            "type": "array",
                                            "items": {
                                                "type": "object",
                                                "properties": {
                                                    "payment_id": {
                                                        "type": "string"
                                                    },
                                                    "amount": {
                                                        "type": "integer"
                                                    }
                                                }
                                            }
                                        },
                                        "created_at": {
                                            "type": "string"
                                        },
                                        "total_baggages": {
                                            "type": "integer"
                                        },
                                        "nonfree_baggages": {
                                            "type": "integer"
                                        },
                                        "insurance": {
                                            "type": "string"
                                        }
                                    }
                                },
                                "examples": {
                                    "example 1": {
                                        "summary": "Successful update",
                                        "value": {
                                            "reservation_id": "4WQ150",
                                            "user_id": "chen_jackson_3290",
                                            "origin": "DFW",
                                            "destination": "LAX",
                                            "flight_type": "round_trip",
                                            "cabin": "business",
                                            "flights": [
                                                {
                                                    "origin": "DFW",
                                                    "destination": "LAX",
                                                    "flight_number": "HAT170",
                                                    "date": "2024-05-22",
                                                    "price": 883
                                                }
                                            ],
                                            "passengers": [
                                                {
                                                    "first_name": "Chen",
                                                    "last_name": "Jackson",
                                                    "dob": "1956-07-07"
                                                }
                                            ],
                                            "payment_history": [
                                                {
                                                    "payment_id": "credit_card_4421486",
                                                    "amount": 100
                                                }
                                            ],
                                            "created_at": "2024-05-02T03:10:19",
                                            "total_baggages": 5,
                                            "nonfree_baggages": 0,
                                            "insurance": "no"
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "x-input-examples": [
                    {
                        "reservation_id": "4WQ150",
                        "total_baggages": 6,
                        "nonfree_baggages": 2,
                        "payment_id": "credit_card_4421486"
                    },
                    {
                        "reservation_id": "4WQ150",
                        "total_baggages": 3,
                        "nonfree_baggages": 1,
                        "payment_id": "certificate_4856383"
                    },
                    {
                        "reservation_id": "4WQ150",
                        "total_baggages": 4,
                        "nonfree_baggages": 0,
                        "payment_id": "gift_card_3576581"
                    }
                ],
                "x-output-examples": [
                    "Success",
                    "Error: reservation not found",
                    "Error: payment method not found",
                    "Error: certificate cannot be used to update reservation",
                    "Error: gift card balance is not enough"
                ]
            }
        }
    }
}