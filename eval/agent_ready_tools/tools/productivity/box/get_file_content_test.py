from unittest.mock import MagicMock, patch

from agent_ready_tools.tools.productivity.box.get_file_content import get_file_content


def test_get_file_content_small_text() -> None:
    """
    Tests that the `get_file_content` tool functions as expected.

    This function verifies that the content in the text file is returned correctly.
    """
    # Define test data:
    test_data = {
        "file_content": "Once upon a time in IBM.",
        "content": '{"text": "Once upon a time in IBM."}',
        "is_encoded": False,
        "file_id": "1809734598969",
        "file_name": "A6.txt",
    }
    # Patch `get_box_client` to return a mock client
    with patch(
        "agent_ready_tools.tools.productivity.box.get_file_content.get_box_client"
    ) as mock_box_client:
        # Create a mock client instance
        mock_client = MagicMock()
        mock_box_client.return_value = mock_client
        mock_client.get_request.return_value = {
            "content": test_data["file_content"],
            "is_encoded": test_data["is_encoded"],
        }

        # Get File content
        content = get_file_content(file_name=test_data["file_name"], file_id=test_data["file_id"])

        # Ensure that get_file_content() executed and returned proper values
        assert content
        assert content.content == test_data["content"]
        assert content.is_encoded == test_data["is_encoded"]

        # Ensure the API call was made with expected parameters
        mock_client.get_request.assert_called_once_with(
            entity=f"files/{test_data['file_id']}/content", content=True
        )


def test_get_file_content_large_text() -> None:
    """
    Tests that the `get_file_content` tool functions as expected.

    This function verifies that the large content in the text file is returned correctly.
    """

    # Define test data:
    test_data = {
        "file_content": "What is air pollution? \n\nAir pollution refers to the release of pollutants into the air\\u2014pollutants that are detrimental to human health and the planet as a whole. According to the World Health Organization (WHO), each year, indoor and outdoor air pollution is responsible for nearly seven million deaths around the globe. Ninety-nine percent of human beings currently breathe air that exceeds the WHO\\u2019s guideline limits for pollutants, with those living in low- and middle-income countries suffering the most. In the United States, the Clean Air Act, established in 1970, authorizes the U.S. Environmental Protection Agency (EPA) to safeguard public health by regulating the emissions of these harmful air pollutants. \n\nWhat causes air pollution? \n\n\\u201cMost air pollution comes from energy use and production,\\u201d says John Walke, director of the Clean Air team at NRDC. Driving a car on gasoline, heating a home with oil, running a power plant on fracked gas: In each case, a fossil fuel is burned and harmful chemicals and gases are released into the air. \n\n\\u201cWe\\u2019ve made progress over the last 50 years in improving air quality in the United States, thanks to the Clean Air Act. But climate change will make it harder in the future to meet pollution standards, which are designed to protect health,\\u201d says Walke. \n\nEffects of air pollution \n\nAir pollution is now the world\\u2019s fourth-largest risk factor for early death. According to the 2020 State of Global Air report\\u2014which summarizes the latest scientific understanding of air pollution around the world\\u20144.5 million deaths were linked to outdoor air pollution exposures in 2019, and another 2.2 million deaths were caused by indoor air pollution. The world\\u2019s most populous countries, China and India, continue to bear the highest burdens of disease. \n\n\\u201cDespite improvements in reducing global average mortality rates from air pollution, this report also serves as a sobering reminder that the climate crisis threatens to worsen air pollution problems significantly,\\u201d explains Vijay Limaye, senior scientist in NRDC\\u2019s Science Office. Smog, for instance, is intensified by increased heat, forming when the weather is warmer and there\\u2019s more ultraviolet radiation. In addition, climate change increases the production of allergenic air pollutants, including mold (thanks to damp conditions caused by extreme weather and increased flooding) and pollen (due to a longer pollen season). \\u201cClimate change\\u2013fueled droughts and dry conditions are also setting the stage for dangerous wildfires,\\u201d adds Limaye. \\u201cWildfire smoke can linger for days and pollute the air with particulate matter hundreds of miles downwind.\\u201d \n\nThe effects of air pollution on the human body vary, depending on the type of pollutant, the length and level of exposure, and other factors, including a person\\u2019s individual health risks and the cumulative impacts of multiple pollutants or stressors. \n\nSmog and soot \n\nThese are the two most prevalent types of air pollution. Smog (sometimes referred to as ground-level ozone) occurs when emissions from combusting fossil fuels react with sunlight. Soot\\u2014a type of particulate matter\\u2014is made up of tiny particles of chemicals, soil, smoke, dust, or allergens that are carried in the air. The sources of smog and soot are similar. \\u201cBoth come from cars and trucks, factories, power plants, incinerators, engines, generally anything that combusts fossil fuels such as coal, gasoline, or natural gas,\\u201d Walke says. \n\nSmog can irritate the eyes and throat and also damage the lungs, especially those of children, senior citizens, and people who work or exercise outdoors. It\\u2019s even worse for people who have asthma or allergies; these extra pollutants can intensify their symptoms and trigger asthma attacks. The tiniest airborne particles in soot are especially dangerous because they can penetrate the lungs and bloodstream and worsen bronchitis, lead to heart attacks, and even hasten death. In 2020, a report from Harvard\\u2019s T.H. Chan School of Public Health showed that COVID-19 mortality rates were higher in areas with more particulate matter pollution than in areas with even slightly less, showing a correlation between the virus\\u2019s deadliness and long-term exposure to air pollution.  \n\nThese findings also illuminate an important environmental justice issue. Because highways and polluting facilities have historically been sited in or next to low-income neighborhoods and communities of color, the negative effects of this pollution have been disproportionately experienced by the people who live in these communities. \n\nHazardous air pollutants \n\nA number of air pollutants pose severe health risks and can sometimes be fatal, even in small amounts. Almost 200 of them are regulated by law; some of the most common are mercury, lead, dioxins, and benzene. \\u201cThese are also most often emitted during gas or coal combustion, incineration, or\\u2014in the case of benzene\\u2014found in gasoline,\\u201d Walke says. Benzene, classified as a carcinogen by the EPA, can cause eye, skin, and lung irritation in the short term and blood disorders in the long term. Dioxins, more typically found in food but also present in small amounts in the air, is another carcinogen that can affect the liver in the short term and harm the immune, nervous, and endocrine systems, as well as reproductive functions. Mercury attacks the central nervous system. In large amounts, lead can damage children\\u2019s brains and kidneys, and even minimal exposure can affect children\\u2019s IQ and ability to learn. \n\nAnother category of toxic compounds, polycyclic aromatic hydrocarbons (PAHs), are by-products of traffic exhaust and wildfire smoke. In large amounts, they have been linked to eye and lung irritation, blood and liver issues, and even cancer. In one study, the children of mothers exposed to PAHs during pregnancy showed slower brain-processing speeds and more pronounced symptoms of ADHD. \n\nGreenhouse gases \n\nWhile these climate pollutants don\\u2019t have the direct or immediate impacts on the human body associated with other air pollutants, like smog or hazardous chemicals, they are still harmful to our health. By trapping the earth\\u2019s heat in the atmosphere, greenhouse gases lead to warmer temperatures, which in turn lead to the hallmarks of climate change: rising sea levels, more extreme weather, heat-related deaths, and the increased transmission of infectious diseases. In 2021, carbon dioxide accounted for roughly 79 percent of the country\\u2019s total greenhouse gas emissions, and methane made up more than 11 percent. \\u201cCarbon dioxide comes from combusting fossil fuels, and methane comes from natural and industrial sources, including large amounts that are released during oil and gas drilling,\\u201d Walke says. \\u201cWe emit far larger amounts of carbon dioxide, but methane is significantly more potent, so it\\u2019s also very destructive.\\u201d  \n\nAnother class of greenhouse gases, hydrofluorocarbons (HFCs), are thousands of times more powerful than carbon dioxide in their ability to trap heat. In October 2016, more than 140 countries signed the Kigali Agreement to reduce the use of these chemicals\\u2014which are found in air conditioners and refrigerators\\u2014and develop greener alternatives over time. (The United States officially signed onto the Kigali Agreement in 2022.) \n\nPollen and mold \n\nMold and allergens from trees, weeds, and grass are also carried in the air, are exacerbated by climate change, and can be hazardous to health. Though they aren\\u2019t regulated, they can be considered a form of air pollution. \\u201cWhen homes, schools, or businesses get water damage, mold can grow and produce allergenic airborne pollutants,\\u201d says Kim Knowlton, professor of environmental health sciences at Columbia University and a former NRDC scientist. \\u201cMold exposure can precipitate asthma attacks or an allergic response, and some molds can even produce toxins that would be dangerous for anyone to inhale.\\u201d \n\nPollen allergies are worsening because of climate change. \\u201cLab and field studies are showing that pollen-producing plants\\u2014especially ragweed\\u2014grow larger and produce more pollen when you increase the amount of carbon dioxide that they grow in,\\u201d Knowlton says. \\u201cClimate change also extends the pollen production season, and some studies are beginning to suggest that ragweed pollen itself might be becoming a more potent allergen.\\u201d If so, more people will suffer runny noses, fevers, itchy eyes, and other symptoms. \\u201cAnd for people with allergies and asthma, pollen peaks can precipitate asthma attacks, which are far more serious and can be life-threatening.\\u201d \n\n ",
        "content": '{"text": "What is air pollution? \\n\\nAir pollution refers to the release of pollutants into the air\\\\u2014pollutants that are detrimental to human health and the planet as a whole. According to the World Health Organization (WHO), each year, indoor and outdoor air pollution is responsible for nearly seven million deaths around the globe. Ninety-nine percent of human beings currently breathe air that exceeds the WHO\\\\u2019s guideline limits for pollutants, with those living in low- and middle-income countries suffering the most. In the United States, the Clean Air Act, established in 1970, authorizes the U.S. Environmental Protection Agency (EPA) to safeguard public health by regulating the emissions of these harmful air pollutants. \\n\\nWhat causes air pollution? \\n\\n\\\\u201cMost air pollution comes from energy use and production,\\\\u201d says John Walke, director of the Clean Air team at NRDC. Driving a car on gasoline, heating a home with oil, running a power plant on fracked gas: In each case, a fossil fuel is burned and harmful chemicals and gases are released into the air. \\n\\n\\\\u201cWe\\\\u2019ve made progress over the last 50 years in improving air quality in the United States, thanks to the Clean Air Act. But climate change will make it harder in the future to meet pollution standards, which are designed to protect health,\\\\u201d says Walke. \\n\\nEffects of air pollution \\n\\nAir pollution is now the world\\\\u2019s fourth-largest risk factor for early death. According to the 2020 State of Global Air report\\\\u2014which summarizes the latest scientific understanding of air pollution around the world\\\\u20144.5 million deaths were linked to outdoor air pollution exposures in 2019, and another 2.2 million deaths were caused by indoor air pollution. The world\\\\u2019s most populous countries, China and India, continue to bear the highest burdens of disease. \\n\\n\\\\u201cDespite improvements in reducing global average mortality rates from air pollution, this report also serves as a sobering reminder that the climate crisis threatens to worsen air pollution problems significantly,\\\\u201d explains Vijay Limaye, senior scientist in NRDC\\\\u2019s Science Office. Smog, for instance, is intensified by increased heat, forming when the weather is warmer and there\\\\u2019s more ultraviolet radiation. In addition, climate change increases the production of allergenic air pollutants, including mold (thanks to damp conditions caused by extreme weather and increased flooding) and pollen (due to a longer pollen season). \\\\u201cClimate change\\\\u2013fueled droughts and dry conditions are also setting the stage for dangerous wildfires,\\\\u201d adds Limaye. \\\\u201cWildfire smoke can linger for days and pollute the air with particulate matter hundreds of miles downwind.\\\\u201d \\n\\nThe effects of air pollution on the human body vary, depending on the type of pollutant, the length and level of exposure, and other factors, including a person\\\\u2019s individual health risks and the cumulative impacts of multiple pollutants or stressors. \\n\\nSmog and soot \\n\\nThese are the two most prevalent types of air pollution. Smog (sometimes referred to as ground-level ozone) occurs when emissions from combusting fossil fuels react with sunlight. Soot\\\\u2014a type of particulate matter\\\\u2014is made up of tiny particles of chemicals, soil, smoke, dust, or allergens that are carried in the air. The sources of smog and soot are similar. \\\\u201cBoth come from cars and trucks, factories, power plants, incinerators, engines, generally anything that combusts fossil fuels such as coal, gasoline, or natural gas,\\\\u201d Walke says. \\n\\nSmog can irritate the eyes and throat and also damage the lungs, especially those of children, senior citizens, and people who work or exercise outdoors. It\\\\u2019s even worse for people who have asthma or allergies; these extra pollutants can intensify their symptoms and trigger asthma attacks. The tiniest airborne particles in soot are especially dangerous because they can penetrate the lungs and bloodstream and worsen bronchitis, lead to heart attacks, and even hasten death. In 2020, a report from Harvard\\\\u2019s T.H. Chan School of Public Health showed that COVID-19 mortality rates were higher in areas with more particulate matter pollution than in areas with even slightly less, showing a correlation between the virus\\\\u2019s deadliness and long-term exposure to air pollution.  \\n\\nThese findings also illuminate an important environmental justice issue. Because highways and polluting facilities have historically been sited in or next to low-income neighborhoods and communities of color, the negative effects of this pollution have been disproportionately experienced by the people who live in these communities. \\n\\nHazardous air pollutants \\n\\nA number of air pollutants pose severe health risks and can sometimes be fatal, even in small amounts. Almost 200 of them are regulated by law; some of the most common are mercury, lead, dioxins, and benzene. \\\\u201cThese are also most often emitted during gas or coal combustion, incineration, or\\\\u2014in the case of benzene\\\\u2014found in gasoline,\\\\u201d Walke says. Benzene, classified as a carcinogen by the EPA, can cause eye, skin, and lung irritation in the short term and blood disorders in the long term. Dioxins, more typically found in food but also present in small amounts in the air, is another carcinogen that can affect the liver in the short term and harm the immune, nervous, and endocrine systems, as well as reproductive functions. Mercury attacks the central nervous system. In large amounts, lead can damage children\\\\u2019s brains and kidneys, and even minimal exposure can affect children\\\\u2019s IQ and ability to learn. \\n\\nAnother category of toxic compounds, polycyclic aromatic hydrocarbons (PAHs), are by-products of traffic exhaust and wildfire smoke. In large amounts, they have been linked to eye and lung irritation, blood and liver issues, and even cancer. In one study, the children of mothers exposed to PAHs during pregnancy showed slower brain-processing speeds and more pronounced symptoms of ADHD. \\n\\nGreenhouse gases \\n\\nWhile these climate pollutants don\\\\u2019t have the direct or immediate impacts on the human body associated with other air pollutants, like smog or hazardous chemicals, they are still harmful to our health. By trapping the earth\\\\u2019s heat in the atmosphere, greenhouse gases lead to warmer temperatures, which in turn lead to the hallmarks of climate change: rising sea levels, more extreme weather, heat-related deaths, and the increased transmission of infectious diseases. In 2021, carbon dioxide accounted for roughly 79 percent of the country\\\\u2019s total greenhouse gas emissions, and methane made up more than 11 percent. \\\\u201cCarbon dioxide comes from combusting fossil fuels, and methane comes from natural and industrial sources, including large amounts that are released during oil and gas drilling,\\\\u201d Walke says. \\\\u201cWe emit far larger amounts of carbon dioxide, but methane is significantly more potent, so it\\\\u2019s also very destructive.\\\\u201d  \\n\\nAnother class of greenhouse gases, hydrofluorocarbons (HFCs), are thousands of times more powerful than carbon dioxide in their ability to trap heat. In October 2016, more than 140 countries signed the Kigali Agreement to reduce the use of these chemicals\\\\u2014which are found in air conditioners and refrigerators\\\\u2014and develop greener alternatives over time. (The United States officially signed onto the Kigali Agreement in 2022.) \\n\\nPollen and mold \\n\\nMold and allergens from trees, weeds, and grass are also carried in the air, are exacerbated by climate change, and can be hazardous to health. Though they aren\\\\u2019t regulated, they can be considered a form of air pollution. \\\\u201cWhen homes, schools, or businesses get water damage, mold can grow and produce allergenic airborne pollutants,\\\\u201d says Kim Knowlton, professor of environmental health sciences at Columbia University and a former NRDC scientist. \\\\u201cMold exposure can precipitate asthma attacks or an allergic response, and some molds can even produce toxins that would be dangerous for anyone to inhale.\\\\u201d \\n\\nPollen allergies are worsening because of climate change. \\\\u201cLab and field studies are showing that pollen-producing plants\\\\u2014especially ragweed\\\\u2014grow larger and produce more pollen when you increase the amount of carbon dioxide that they grow in,\\\\u201d Knowlton says. \\\\u201cClimate change also extends the pollen production season, and some studies are beginning to suggest that ragweed pollen itself might be becoming a more potent allergen.\\\\u201d If so, more people will suffer runny noses, fevers, itchy eyes, and other symptoms. \\\\u201cAnd for people with allergies and asthma, pollen peaks can precipitate asthma attacks, which are far more serious and can be life-threatening.\\\\u201d \\n\\n "}',
        "is_encoded": False,
        "file_id": "1812273335677",
        "file_name": "s_test.txt",
    }
    # Patch `get_box_client` to return a mock client
    with patch(
        "agent_ready_tools.tools.productivity.box.get_file_content.get_box_client"
    ) as mock_box_client:
        # Create a mock client instance
        mock_client = MagicMock()
        mock_box_client.return_value = mock_client
        mock_client.get_request.return_value = {
            "content": test_data["file_content"],
            "is_encoded": test_data["is_encoded"],
        }

        # Get File content
        content = get_file_content(file_name=test_data["file_name"], file_id=test_data["file_id"])

        # Ensure that get_file_content() executed and returned proper values
        assert content
        assert content.content == test_data["content"]
        assert content.is_encoded == test_data["is_encoded"]

        # Ensure the API call was made with expected parameters
        mock_client.get_request.assert_called_once_with(
            entity=f"files/{test_data['file_id']}/content", content=True
        )


def test_get_file_text_content_from_boxnote() -> None:
    """
    Tests that the `get_file_content` tool functions as expected.

    This function verifies that the paragraph content from the box note is returned correctly.
    """

    # Define test data:
    test_data = {
        "file_content": '{"version":7,"schema_version":1,"doc":{"type":"doc","attrs":{"table_of_contents":{"enabled":false,"allowedLevels":[]}},"content":[{"type":"paragraph","content":[{"type":"text","marks":[{"type":"font_color","attrs":{"color":"#333333"}},{"type":"font_size","attrs":{"size":"0.9375em"}},{"type":"author_id","attrs":{"authorId":"345995540"}}],"text":"The Importance of Education Education is an important issue in oneâ\x80\x99s life. It is the key to success in the future and to have many opportunities in our life. Education has many advantages for people. For instance, it illuminates a personâ\x80\x99s mind and thinking. It helps students to plan for work or pursue a higher education while graduating from university. Having education in an area helps people think, feel, and behave in a way that contributes to their success, and improves not only their personal satisfaction but also their community. In addition, education develops human personality, thoughts, dealing with others and prepares people for life experiences. It makes people have a special status in their own society and everywhere they live in. I believe that everyone is entitled to have education â\x80\x98â\x80\x99from cradle to graveâ\x80\x99â\x80\x99. There are various benefits of having education such as having a good career, having a good status in society, and having self-confidence. First of all, education gives us the chance of having a good career in our life. We can have plenty of chances to work at any workplace we wish. In other words, opportunities for a better employment can be more and"}]},{"type":"paragraph"},{"type":"paragraph"},{"type":"paragraph","content":[{"type":"text","marks":[{"type":"font_color","attrs":{"color":"#333333"}},{"type":"font_size","attrs":{"size":"0.9375em"}},{"type":"author_id","attrs":{"authorId":"345995540"}}],"text":"The Importance of Education Education is an important issue in oneâ\x80\x99s life. It is the key to success in the future and to have many opportunities in our life. Education has many advantages for people. For instance, it illuminates a personâ\x80\x99s mind and thinking. It helps students to plan for work or pursue a higher education while graduating from university. Having education in an area helps people think, feel, and behave in a way that contributes to their success, and improves not only their personal satisfaction but also their community. In addition, education develops human personality, thoughts, dealing with others and prepares people for life experiences. It makes people have a special status in their own society and everywhere they live in. I believe that everyone is entitled to have education â\x80\x98â\x80\x99from cradle to graveâ\x80\x99â\x80\x99. There are various benefits of having education such as having a good career, having a good status in society, and having self-confidence. First of all, education gives us the chance of having a good career in our life. We can have plenty of chances to work at any workplace we wish. In other words, opportunities for a better employment can be more and"}]}]},"savepoint_metadata":{"savepointFileId":"1813067252462","savepointsInfo":{"2":{"timestamp":1742885930837,"type":"session","authorsSinceLastSavepoint":["345995540"]}},"shouldCreateSavepointBeforeApplyingNextVersion":false,"authorsSinceLastSavepoint":{"345995540":true},"allAuthorNames":{"345995540":"csprod2"}},"last_edit_timestamp":1742887029660}',
        "content": '{"version":7,"schema_version":1,"doc":{"type":"doc","attrs":{"table_of_contents":{"enabled":false,"allowedLevels":[]}},"content":[{"type":"paragraph","content":[{"type":"text","marks":[{"type":"font_color","attrs":{"color":"#333333"}},{"type":"font_size","attrs":{"size":"0.9375em"}},{"type":"author_id","attrs":{"authorId":"345995540"}}],"text":"The Importance of Education Education is an important issue in oneâ\x80\x99s life. It is the key to success in the future and to have many opportunities in our life. Education has many advantages for people. For instance, it illuminates a personâ\x80\x99s mind and thinking. It helps students to plan for work or pursue a higher education while graduating from university. Having education in an area helps people think, feel, and behave in a way that contributes to their success, and improves not only their personal satisfaction but also their community. In addition, education develops human personality, thoughts, dealing with others and prepares people for life experiences. It makes people have a special status in their own society and everywhere they live in. I believe that everyone is entitled to have education â\x80\x98â\x80\x99from cradle to graveâ\x80\x99â\x80\x99. There are various benefits of having education such as having a good career, having a good status in society, and having self-confidence. First of all, education gives us the chance of having a good career in our life. We can have plenty of chances to work at any workplace we wish. In other words, opportunities for a better employment can be more and"}]},{"type":"paragraph"},{"type":"paragraph"},{"type":"paragraph","content":[{"type":"text","marks":[{"type":"font_color","attrs":{"color":"#333333"}},{"type":"font_size","attrs":{"size":"0.9375em"}},{"type":"author_id","attrs":{"authorId":"345995540"}}],"text":"The Importance of Education Education is an important issue in oneâ\x80\x99s life. It is the key to success in the future and to have many opportunities in our life. Education has many advantages for people. For instance, it illuminates a personâ\x80\x99s mind and thinking. It helps students to plan for work or pursue a higher education while graduating from university. Having education in an area helps people think, feel, and behave in a way that contributes to their success, and improves not only their personal satisfaction but also their community. In addition, education develops human personality, thoughts, dealing with others and prepares people for life experiences. It makes people have a special status in their own society and everywhere they live in. I believe that everyone is entitled to have education â\x80\x98â\x80\x99from cradle to graveâ\x80\x99â\x80\x99. There are various benefits of having education such as having a good career, having a good status in society, and having self-confidence. First of all, education gives us the chance of having a good career in our life. We can have plenty of chances to work at any workplace we wish. In other words, opportunities for a better employment can be more and"}]}]},"savepoint_metadata":{"savepointFileId":"1813067252462","savepointsInfo":{"2":{"timestamp":1742885930837,"type":"session","authorsSinceLastSavepoint":["345995540"]}},"shouldCreateSavepointBeforeApplyingNextVersion":false,"authorsSinceLastSavepoint":{"345995540":true},"allAuthorNames":{"345995540":"csprod2"}},"last_edit_timestamp":1742887029660}',
        "is_encoded": False,
        "file_id": "1813067252462",
        "file_name": "1paragraph.boxnote",
    }

    # Patch `get_box_client` to return a mock client
    with patch(
        "agent_ready_tools.tools.productivity.box.get_file_content.get_box_client"
    ) as mock_box_client:
        # Create a mock client instance
        mock_client = MagicMock()
        mock_box_client.return_value = mock_client
        mock_client.get_request.return_value = {
            "content": test_data["file_content"],
            "is_encoded": test_data["is_encoded"],
        }

        # Get File content
        content = get_file_content(file_name=test_data["file_name"], file_id=test_data["file_id"])

        # Ensure that get_file_content() executed and returned proper values
        assert content
        assert content.content == test_data["content"]
        assert content.is_encoded == test_data["is_encoded"]

        # Ensure the API call was made with expected parameters
        mock_client.get_request.assert_called_once_with(
            entity=f"files/{test_data['file_id']}/content", content=True
        )


def test_get_file_tabular_content_from_boxnote() -> None:
    """
    Tests that the `get_file_content` tool functions as expected.

    This function verifies that the tabular content from the box note is returned correctly.
    """

    # Define test data:
    test_data = {
        "file_content": '{"version":18,"schema_version":1,"doc":{"type":"doc","attrs":{"table_of_contents":{"enabled":true,"allowedLevels":[1,2,3]}},"content":[{"type":"table","content":[{"type":"table_row","content":[{"type":"table_cell","attrs":{"colspan":1,"rowspan":1,"colwidth":null},"content":[{"type":"paragraph","content":[{"type":"text","marks":[{"type":"author_id","attrs":{"authorId":"345995540"}}],"text":"hello"}]}]},{"type":"table_cell","attrs":{"colspan":1,"rowspan":1,"colwidth":null},"content":[{"type":"paragraph","content":[{"type":"text","marks":[{"type":"author_id","attrs":{"authorId":"345995540"}}],"text":"bye"}]}]},{"type":"table_cell","attrs":{"colspan":1,"rowspan":1,"colwidth":null},"content":[{"type":"paragraph","content":[{"type":"text","marks":[{"type":"author_id","attrs":{"authorId":"345995540"}}],"text":"goodnight"}]}]}]},{"type":"table_row","content":[{"type":"table_cell","attrs":{"colspan":1,"rowspan":1,"colwidth":null},"content":[{"type":"paragraph"}]},{"type":"table_cell","attrs":{"colspan":1,"rowspan":1,"colwidth":null},"content":[{"type":"paragraph"}]},{"type":"table_cell","attrs":{"colspan":1,"rowspan":1,"colwidth":null},"content":[{"type":"paragraph"}]}]},{"type":"table_row","content":[{"type":"table_cell","attrs":{"colspan":1,"rowspan":1,"colwidth":null},"content":[{"type":"paragraph"}]},{"type":"table_cell","attrs":{"colspan":1,"rowspan":1,"colwidth":null},"content":[{"type":"paragraph"}]},{"type":"table_cell","attrs":{"colspan":1,"rowspan":1,"colwidth":null},"content":[{"type":"paragraph"}]}]},{"type":"table_row","content":[{"type":"table_cell","attrs":{"colspan":1,"rowspan":1,"colwidth":null},"content":[{"type":"paragraph"}]},{"type":"table_cell","attrs":{"colspan":1,"rowspan":1,"colwidth":null},"content":[{"type":"paragraph"}]},{"type":"table_cell","attrs":{"colspan":1,"rowspan":1,"colwidth":null},"content":[{"type":"paragraph"}]}]}]},{"type":"paragraph"}]},"savepoint_metadata":{"savepointFileId":null,"savepointsInfo":{},"shouldCreateSavepointBeforeApplyingNextVersion":false,"authorsSinceLastSavepoint":{"345995540":true},"allAuthorNames":{"345995540":"csprod2"}},"last_edit_timestamp":1742885661122}',
        "content": '{"version":18,"schema_version":1,"doc":{"type":"doc","attrs":{"table_of_contents":{"enabled":true,"allowedLevels":[1,2,3]}},"content":[{"type":"table","content":[{"type":"table_row","content":[{"type":"table_cell","attrs":{"colspan":1,"rowspan":1,"colwidth":null},"content":[{"type":"paragraph","content":[{"type":"text","marks":[{"type":"author_id","attrs":{"authorId":"345995540"}}],"text":"hello"}]}]},{"type":"table_cell","attrs":{"colspan":1,"rowspan":1,"colwidth":null},"content":[{"type":"paragraph","content":[{"type":"text","marks":[{"type":"author_id","attrs":{"authorId":"345995540"}}],"text":"bye"}]}]},{"type":"table_cell","attrs":{"colspan":1,"rowspan":1,"colwidth":null},"content":[{"type":"paragraph","content":[{"type":"text","marks":[{"type":"author_id","attrs":{"authorId":"345995540"}}],"text":"goodnight"}]}]}]},{"type":"table_row","content":[{"type":"table_cell","attrs":{"colspan":1,"rowspan":1,"colwidth":null},"content":[{"type":"paragraph"}]},{"type":"table_cell","attrs":{"colspan":1,"rowspan":1,"colwidth":null},"content":[{"type":"paragraph"}]},{"type":"table_cell","attrs":{"colspan":1,"rowspan":1,"colwidth":null},"content":[{"type":"paragraph"}]}]},{"type":"table_row","content":[{"type":"table_cell","attrs":{"colspan":1,"rowspan":1,"colwidth":null},"content":[{"type":"paragraph"}]},{"type":"table_cell","attrs":{"colspan":1,"rowspan":1,"colwidth":null},"content":[{"type":"paragraph"}]},{"type":"table_cell","attrs":{"colspan":1,"rowspan":1,"colwidth":null},"content":[{"type":"paragraph"}]}]},{"type":"table_row","content":[{"type":"table_cell","attrs":{"colspan":1,"rowspan":1,"colwidth":null},"content":[{"type":"paragraph"}]},{"type":"table_cell","attrs":{"colspan":1,"rowspan":1,"colwidth":null},"content":[{"type":"paragraph"}]},{"type":"table_cell","attrs":{"colspan":1,"rowspan":1,"colwidth":null},"content":[{"type":"paragraph"}]}]}]},{"type":"paragraph"}]},"savepoint_metadata":{"savepointFileId":null,"savepointsInfo":{},"shouldCreateSavepointBeforeApplyingNextVersion":false,"authorsSinceLastSavepoint":{"345995540":true},"allAuthorNames":{"345995540":"csprod2"}},"last_edit_timestamp":1742885661122}',
        "is_encoded": False,
        "file_id": "1813051300065",
        "file_name": "1hello.boxnote",
    }
    # Patch `get_box_client` to return a mock client
    with patch(
        "agent_ready_tools.tools.productivity.box.get_file_content.get_box_client"
    ) as mock_box_client:
        # Create a mock client instance
        mock_client = MagicMock()
        mock_box_client.return_value = mock_client
        mock_client.get_request.return_value = {
            "content": test_data["file_content"],
            "is_encoded": test_data["is_encoded"],
        }

        # Get File content
        content = get_file_content(file_name=test_data["file_name"], file_id=test_data["file_id"])

        # Ensure that get_file_content() executed and returned proper values
        assert content
        assert content.content == test_data["content"]
        assert content.is_encoded == test_data["is_encoded"]

        # Ensure the API call was made with expected parameters
        mock_client.get_request.assert_called_once_with(
            entity=f"files/{test_data['file_id']}/content", content=True
        )
